<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Eventos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  
  <div *ngIf="eventos.length === 0" class="no-data">
    <ion-text color="medium">
      <h3>No hay eventos disponibles</h3>
    </ion-text>
  </div>

  
  <ion-list *ngIf="eventos.length > 0">
    <ion-item *ngFor="let evento of eventos">
      <ion-label>
        <h3>{{ evento.nombre }}</h3>
        <p><strong>Fecha:</strong> {{ evento.fecha }}</p>
        <p><strong>Estado:</strong> {{ evento.estado }}</p>
      </ion-label>
      
      <ion-button color="primary" (click)="generarQR(evento)">
        Generar QR
      </ion-button>
    </ion-item>
  </ion-list>

  
  <div *ngIf="loadingQR" class="loading-container">
    <ion-spinner name="crescent"></ion-spinner>
    <p>Generando QR...</p>
  </div>

 
  <div *ngIf="qrData && !loadingQR" class="qr-container">
    <h3>QR Generado</h3>
    <p>{{ qrData }}</p> 
    <angularx-qrcode [qrcValue]="qrData" [qrcSize]="256"></angularx-qrcode>
  </div>
x|  

</ion-content>


<style>
  .no-data {
    text-align: center;
    margin-top: 20px;
  }

  .loading-container {
    text-align: center;
    margin-top: 20px;
  }

  .qr-container {
    text-align: center;
    margin-top: 20px;
  }

  ion-spinner {
    margin: 10px 0;
  }
</style>
